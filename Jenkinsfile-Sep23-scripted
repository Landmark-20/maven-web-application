pipeline {
    agent any

    stages {
        stage('1.CloneCode') {
            agent {
                label 'slave1'
            }
            steps {
                script {
                    def mavenHome = tool name: 'maven3.9.4'
                    // Replace the URL with your Git repository URL
                    // Jenkins running on a Linux system
                    sh "git clone https://github.com/Landmark-20/maven-web-application"
                    // Jenkins running on a Windows system
                    // bat "git clone https://github.com/Landmark-20/maven-web-application"
                }
            }
        }

        stage('2.mvnBuild') {
            agent any // This stage can run on any agent
            steps {
                script {
                    def mavenHome = tool name: 'maven3.9.4'
                    sh "${mavenHome}/bin/mvn clean package"
                }
            }
        }

        // Include other stages here similarly...
    }

    post {
        always {
            // Clean up or perform any necessary post-build actions
        }
    }
}
